<?xml version="1.0" encoding="UTF-8"?>
<!--
* Copyright (c) 2013 EMC Corporation
* All Rights Reserved
*
* This software contains the intellectual property of EMC Corporation
* or is licensed to EMC Corporation from third parties.  Use of this
* software and the intellectual property contained therein is expressly
* limited to the terms and conditions of the License Agreement under which
* it is provided by or on behalf of EMC.
-->
<configuration xmlns="http://www.watch4net.com/VariableHandlingFilter"
               xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
               xsi:schemaLocation="http://www.watch4net.com/VariableHandlingFilter variable-handling-filter.xsd ">

    <!--Compute the 'PrimaryUsed' metric -->
    <handling-configuration id="VNX-PRIMARY-USED-CAPACITY">
        <matcher class="com.watch4net.apg.v2.collector.plugins.variablehandlingfilter.matchers.APGFilterMatcher">
            <parameter name="filter">parttype=='LUN' | name=='RemoveMeZero'</parameter>
        </matcher>
        <handler class="com.watch4net.apg.v2.collector.plugins.variablehandlingfilter.handlers.SpatialAggregationHandler">
            <parameter name="file" type="file">conf/sah-PrimaryUsedCapacity.xml</parameter>
        </handler>
    </handling-configuration>

    <!--Compute the 'LocalReplicaUsed' metric -->
    <handling-configuration id="VNX-LOCAL-REPLICA-USED-CAPACITY">
        <matcher class="com.watch4net.apg.v2.collector.plugins.variablehandlingfilter.matchers.APGFilterMatcher">
            <parameter name="filter">parttype=='LUN' | name=='RemoveMeZero'</parameter>
        </matcher>
        <handler class="com.watch4net.apg.v2.collector.plugins.variablehandlingfilter.handlers.SpatialAggregationHandler">
            <parameter name="file" type="file">conf/sah-LocalReplicaUsedCapacity.xml</parameter>
        </handler>
    </handling-configuration>

    <!--Compute the 'RemoteReplicaUsed' metric -->
    <handling-configuration id="VNX-REMOTE-REPLICA-USED-CAPACITY">
        <matcher class="com.watch4net.apg.v2.collector.plugins.variablehandlingfilter.matchers.APGFilterMatcher">
            <parameter name="filter">parttype=='LUN' | name=='RemoveMeZero'</parameter>
        </matcher>
        <handler class="com.watch4net.apg.v2.collector.plugins.variablehandlingfilter.handlers.SpatialAggregationHandler">
            <parameter name="file" type="file">conf/sah-RemoteReplicaUsedCapacity.xml</parameter>
        </handler>
    </handling-configuration>

    <!--Compute the 'SystemUsed' metric -->
    <handling-configuration id="VNX-SYSTEM-USED-CAPACITY">
        <matcher class="com.watch4net.apg.v2.collector.plugins.variablehandlingfilter.matchers.APGFilterMatcher">
            <parameter name="filter">parttype=='LUN' | name=='RemoveMeZero'</parameter>
        </matcher>
        <handler class="com.watch4net.apg.v2.collector.plugins.variablehandlingfilter.handlers.SpatialAggregationHandler">
            <parameter name="file" type="file">conf/sah-SystemUsedCapacity.xml</parameter>
        </handler>
    </handling-configuration>

    <!--Compute the Service Level metrics -->
    <handling-configuration id="VNX-SERVICE-LEVEL-METRICS">
        <matcher class="com.watch4net.apg.v2.collector.plugins.variablehandlingfilter.matchers.APGFilterMatcher">
            <parameter name="filter">parttype=='LUN' | name=='RemoveMeZeroLun'</parameter>
        </matcher>
        <handler class="com.watch4net.apg.v2.collector.plugins.variablehandlingfilter.handlers.SpatialAggregationHandler">
            <parameter name="file" type="file">conf/sah-ServiceLevel-CapacityMetrics.xml</parameter>
        </handler>
    </handling-configuration>

</configuration>